function on_submit_quiz(){window.parent.postMessage({type:"on_submit_quiz",payload:{quiz_id:"quiz_1",answer:"3",is_correct:!0}},window.location.origin)}!function(e,t,n,a){"object"==typeof exports?module.exports=n(a):e[t]=n(a)}(window||null,"KOFAC_KBC",function(e){let t={},n={},a=(e,t)=>{Object.defineProperty(e,t.name,{value:t.exp,writable:t.writable,enumerable:t.enumerable,configurable:t.configurable}),"public"==t.acsmod&&(t.acsmod="private",a(n,t))};return Object.defineProperty(n,"addModule",{value:function e(o){if("function"==typeof o){let i={name:"",exp:null,writable:!1,enumerable:!0,configurable:!1,acsmod:"public"};o(i,t,n),i.name=i.name||i.exp.name,a(t,i)}else"object"==typeof o&&Object.keys(o).forEach(e=>{let n={name:e,exp:o[e].value,writable:o[e].writable||!1,enumerable:null==o[e].enumerable||o[e].enumerable,acsmod:o[e].acsmod||"public",configurable:null!=o[e].configurable&&o[e].configurable};a(t,n)})},writable:!1,configurable:!1,enumerable:!1}),e&&e.length&&e.forEach(e=>n.addModule(e)),n},[{scaffold_type:{value:"",writable:!0,enumerable:!0,configurable:!0},snd:{value:{},writable:!0,enumerable:!0,configurable:!0}},function(e,t,n){e.exp=class e{constructor(e=[]){this._init={prom:null,resolve:null,reject:null},this._init.prom=new Promise((e,t)=>{this._init.resolve=e,this._init.reject=t}),this.sounds=[];let t="../common_act/mp3/",n=[{id:"none",src:`${t}none.mp3`,volume:.5,controls:!1},{id:"attention",src:`${t}attention.mp3`,volume:.5,controls:!1},{id:"end",src:`${t}page_end.mp3`,volume:.5,controls:!1},{id:"click",src:`${t}snd-click.mp3`,volume:.5,controls:!1},{id:"click2",src:`${t}snd-click2.mp3`,volume:.5,controls:!1},{id:"over",src:`${t}snd-over.mp3`,volume:.5,controls:!1},{id:"retry",src:`${t}snd-retry.mp3`,volume:.5,controls:!1},{id:"true",src:`${t}snd-true.mp3`,volume:.5,controls:!1},{id:"false",src:`${t}snd-false.mp3`,volume:.5,controls:!1},{id:"yes-t0",src:`${t}yes/t0.mp3`,volume:.5,controls:!1},{id:"yes-t1",src:`${t}yes/t1.mp3`,volume:.5,controls:!1},{id:"yes-t2",src:`${t}yes/t2.mp3`,volume:.5,controls:!1},{id:"yes-t3",src:`${t}yes/t3.mp3`,volume:.5,controls:!1},{id:"yes-t4",src:`${t}yes/t4.mp3`,volume:.5,controls:!1},{id:"retry-t",src:`${t}retry/t.mp3`,volume:.5,controls:!1},{id:"sec10-t",src:`${t}sec10/t.mp3`,volume:.5,controls:!1}],a=[];n.forEach(e=>a.push(this.add(e))),e.length&&e.forEach(e=>a.push(this.add(e))),Promise.all(a).then(()=>{this._init.resolve()})}get loaded(){return this._init.prom}add({id:e,src:t,volume:n,controls:a}){let o={prom:null,resolve:null,reject:null};o.prom=new Promise((e,t)=>{o.resolve=e,o.reject=t});let i=null;return"object"==typeof t&&"audio"===t.tagName.toLowerCase()?(i=t).isLoaded=!1:((i=new Audio).isLoaded=!1,i.src=t),i.isPlayed=!1,i.isPalying=!1,i.volume=n||1,this.sounds[e]=i,i.event={},i.event.loadedmetadata=e=>{i.isLoaded=!0,i.removeEventListener("loadedmetadata",i.event.loadedmetadata),delete i.event.loadedmetadata,o.resolve(i)},i.addEventListener("loadedmetadata",i.event.loadedmetadata),i.load(),o.prom}endsnd(){Object.keys(this.sounds).forEach((e,t)=>{let n=this.sounds[e];n.isPalying&&(n.currentTime=n.duration)})}stopAll(){Object.keys(this.sounds).forEach((e,t)=>{let n=this.sounds[e];try{n.isPalying=!1,n.pause()}catch(a){}n.event.ended&&(n.removeEventListener("ended",n.event.ended),delete n.event.ended)})}play(e,t=()=>{},n=!1){let a=null;if(null==(a="string"==typeof e||isNaN(parseInt(e,10))?this.sounds[e]||null:this.sounds[Object.keys(this.sounds)[e-1]]||null))throw Error(e+" not founded.");if(n&&this.stopAll(),a.currentTime>0&&(a.currentTime=0),!a.isLoaded){setTimeout(function(){this.play(e,t,n)},100);return}return a.event.ended&&(a.removeEventListener("ended",a.event.ended),delete a.event.ended),a.event.ended=e=>{a.isPalying=a.isPlayed=!1,t(e),a.removeEventListener("ended",a.event.ended),delete a.event.ended},a.addEventListener("ended",a.event.ended),a.isPalying=!0,a.play()}},e.name="SOUND",e.acsmod="public"},function e(t,n,a){var o;let e=(o=!0,{isLock:function(){return!0===o},lock:function(){o=!0},release:function(){o=!1}});t.exp=e,t.name="BUTTON_LOCK"},function e(t,n,a){t.exp=function e(t){return new Promise(e=>setTimeout(e,t))},t.name="TIMEOUT"},function e(t,n,a){let o=[];var i=0;let l=["#eb6383","#fa9191","#ffe9c5","#b4f2e1"];function r(){for(let e=o.length;e--;e){let t=o[e];0==i&&(t.r=Math.floor(200*Math.random())),t.style.transform=`translate3d(${t.x}px, ${t.y}px, 1px) rotate(${t.r}deg)`,t.x+=t.vel.x,t.y+=t.vel.y,t.vel.y+=.5*t.mass,t.y>1*window.innerHeight&&(t.remove(),o.splice(e,1))}i++,requestAnimationFrame(r)}window.setTimeout(r,500),t.name="pops",t.exp=function e(t,n){i=0;for(let a=0;a<30;a++){let r=document.createElement("particule");r.x=t,r.y=n,r.r=0,r.vel={x:(Math.random()-.5)*15,y:-10*Math.random()-5},r.mass=.2*Math.random()+.8,o.push(r),r.style.transform=`translate(${r.x}px, ${r.y}px)`;let s=20*Math.random()+5;r.style.width=s+"px",r.style.height=s+"px",r.style.background=l[Math.floor(Math.random()*l.length)],document.body.appendChild(r)}}},function e(t,n,a){t.name="getAbsoluteCenterPosition",t.exp=function e(t){return"object"==typeof t&&$(t).length>0?[$(t).offset().left+$(t).outerWidth()/2,$(t).offset().top+$(t).outerHeight()/2]:[0,0]}},function e(t,n,a){t.name="GIFSELECT",t.exp=function e(t,n,a=!1){a&&t.addClass("active"),t.find("img").css({display:"none"}),t.find("img").eq(n-1).css({display:"block"}),a||t.removeClass("active")}},function e(t,n,a){let o=null;async function e(e){e?clearInterval(o):o=setInterval(async()=>{n.BUTTON_LOCK.lock(),n.GIFSELECT($(".scaffold"),2,!0),await n.SOUND_PLAY_CALLBACK("sec10-"+a.scaffold_type,0,200),n.GIFSELECT($(".scaffold"),1),n.BUTTON_LOCK.release()},1e4)}t.name="timeCount",t.exp=e},function e(t,n,a){t.name="START_SOUND_CHECK",t.exp=function e(t){let n=document.body.querySelector(".pre_wrap"),a=this.snd.play("none");void 0!=a?a.then(function(e){n.style.display="none",t.start_sound()},function(e){n.style.display="block"}):(n.style.display="block",t.start_sound()),n.querySelector("button.pre_play").addEventListener("click",function(e){n.style.display="none",t.start_sound()})}},function e(t,n,a){t.name="SOUND_PLAY_CALLBACK",t.exp=function e(t,o=0,i=0,l=!1){return n.BUTTON_LOCK.lock(),new Promise(function(e,r){setTimeout(()=>{a.snd.play(t,function(){setTimeout(()=>{n.BUTTON_LOCK.release(),e()},i)},l)},o)})}},function e(t,n,a){t.name="CHARACT_EFFECT_PLAY_CALLBACK",t.exp=function e(t,o=0,i=0,l=!1){n.BUTTON_LOCK.lock();let r=t+"-"+a.scaffold_type;return new Promise(function(e,t){setTimeout(()=>{a.snd.play(r,function(){setTimeout(()=>{n.BUTTON_LOCK.release(),e()},i)},l)},o)})}},function e(t,n,a){t.name="RANDOM_CHARACT_EFFECT_PLAY_CALLBACK",t.exp=function e(t,o=0,i=0,l=!1){n.BUTTON_LOCK.lock();let r=t+"-"+a.scaffold_type+Math.floor(5*Math.random());return new Promise(function(e,t){setTimeout(()=>{a.snd.play(r,function(){setTimeout(()=>{n.BUTTON_LOCK.release(),e()},i)},l)},o)})}},function e(t,n,a){t.name="FINGERGUIDE",t.exp=function e(t,n){var a={img:"../common_act/img/clickImg.png",transform:"translate(-15px, 0px)",repeat:2,repeatDelay:500,delay:300,zIndex:101,duration:400,callback:null,firstDelay:300};$.extend(a,n);var o=$("<img/>").css({position:"fixed",opacity:0,transform:a.transform+" scale(1)",transition:"transform .2s",transformOrigin:"center top",zIndex:a.zIndex}).attr("src",a.img);$("body").append(o);var i=t[0];o.css({left:i[0],top:i[1]});for(var l=0;l<a.repeat;l++){o.animate({left:i[0],top:i[1]},0,function(){o.css({transform:a.transform+" scale(1)"})}).delay(0===l?a.firstDelay:a.repeatDelay).animate({opacity:1},200,"swing");for(var r=1;r<t.length;r++)!function(e){Array.isArray(t[e])?o.delay(a.delay).animate({left:t[e][0],top:t[e][1]},a.duration):"click"===t[e].type?o.animate({textIndent:0},a.delay,function(){o.css({transform:a.transform+" scale(0.8)"}),t[e].callback&&setTimeout(t[e].callback,300)}).animate({textIndent:0},300,function(){o.css({transform:a.transform+" scale(1)"})}).delay(300):"mouseDown"===t[e].type?o.animate({textIndent:0},a.delay,function(){o.css({transform:a.transform+" scale(0.8)"}),t[e].callback&&setTimeout(t[e].callback,300)}).delay(300):"mouseUp"===t[e].type?o.animate({textIndent:0},a.delay,function(){o.css({transform:a.transform+" scale(1)"}),t[e].callback&&t[e].callback()}).delay(300):"delay"===t[e].type&&o.delay(t[e].delay)}(r);o.delay(a.delay).animate({opacity:0},200)}o.animate({opacity:0},0,"swing",function(){o.remove(),a.callback&&a.callback()})}},function e(t,n,a){t.name="FINGER_CILCK",t.exp=function e(t){var n=getAbsoluteCenterPosition(t);n[0]=n[0]-15,n[1]=n[1]+5,fingerGuide([n,{type:"click"}],{callback(){}})}},function e(t,n,a){t.name="FINGER_DRAG",t.exp=function e(t,n){var a=getAbsoluteCenterPosition(t),o=getAbsoluteCenterPosition(n);fingerGuide([a,{type:"mouseDown",callback:function(){}},o,{type:"mouseUp",callback:function(){}},],{duration:400,callback:function(){}})}},function e(t,n,a){t.name="FINGER_DRAG_PONIT",t.exp=function e(t,n){fingerGuide([t,{type:"mouseDown",callback:function(){}},n,{type:"mouseUp",callback:function(){}},],{duration:400,callback:function(){}})}},function e(t,n,a){t.name="check_active",t.exp=function e(){document.addEventListener("mouseup",e=>{n.timeCount(!0)}),document.addEventListener("keypress",e=>n.timeCount(!0)),document.addEventListener("touchstart",e=>n.timeCount(!0))}},function e(t,n,a){t.name="kofacQuizEnd",t.exp=function e(t,n=1,a=!0){let o="";if(t)o=`${t}`;else{let i=window.location.pathname.split("/");i.pop();let l=parseInt(i.reverse()[0].split("_")[1],10);o=`quiz_${l}`}console.log(":::: 학습종료 -> 퀴즈데이터 전달 ::::",n),window.parent.postMessage({type:"on_submit_quiz",payload:{quiz_id:o,answer:n,is_correct:a}},window.location.origin)}}]);let particles=[];const count=30;var r_count=0;const colors=["#eb6383","#fa9191","#ffe9c5","#b4f2e1"];function pops(e,t){r_count=0;for(let n=0;n<30;n++){let a=document.createElement("particule");a.x=e,a.y=t,a.r=0,a.vel={x:(Math.random()-.5)*15,y:-10*Math.random()-5},a.mass=.2*Math.random()+.8,particles.push(a),a.style.transform=`translate(${a.x}px, ${a.y}px)`;let o=20*Math.random()+5;a.style.width=o+"px",a.style.height=o+"px",a.style.background=colors[Math.floor(Math.random()*colors.length)],document.body.appendChild(a)}}function render(){for(let e=particles.length;e--;e){let t=particles[e];0==r_count&&(t.r=Math.floor(200*Math.random())),t.style.transform=`translate3d(${t.x}px, ${t.y}px, 1px) rotate(${t.r}deg)`,t.x+=t.vel.x,t.y+=t.vel.y,t.vel.y+=.5*t.mass,t.y>1*window.innerHeight&&(t.remove(),particles.splice(e,1))}r_count++,requestAnimationFrame(render)}window.setTimeout(render,500);var _isDev=!window.Android,_isPause=!1,_allStop=!1;const mediaPath="./mp3/";var audioMapper={},audioFileMapper={};function playAudio(e,t,n){if(e=(e=e.replace(/(\s*)/g,""))+"?rn="+Math.random(),!_allStop&&(audioMapper[t]&&(audioMapper[t].audio.pause(),audioMapper[t].callback&&audioMapper[t].audio.removeEventListener("ended",audioMapper[t].callback)),e)){var a=!0;function o(){"subbgm"==t&&$(".intro_btn")&&"none"==$(".helpbtn").css("display")&&(console.log("name:"+t),$(".intro_btn").trigger("click")),n&&n()}audioFileMapper[e]?(a=!1,audioFileMapper[e].pause(),audioFileMapper[e].currentTime=0):audioFileMapper[e]=new Audio(e),audioFileMapper[e].onended=function(){this.currentSrc=null,this.removeAttribute("src"),this.srcObject=null,this.remove()};var i={audio:audioFileMapper[e],callback:o,key:Math.random()};audioMapper[t]=i,audioMapper[t].audio.addEventListener("ended",o),_isPause?audioMapper[t].keep=!0:(a?audioMapper[t].audio.oncanplaythrough=function(){i.key===audioMapper[t].key&&audioMapper[t].audio.play()}:(audioMapper[t].audio.oncanplaythrough=null,audioMapper[t].audio.play()),_isDev&&(audioMapper[t].audio.playbackRate=1))}}function stopAudio(e){audioMapper[e]&&(audioMapper[e].audio.currentTime=1e3)}function getAbsoluteCenterPosition(e){return"object"==typeof e&&$(e).length>0?[$(e).offset().left+$(e).outerWidth()/2,$(e).offset().top+$(e).outerHeight()/2]:[0,0]}function PLAY(e,t=0,n=0,a=null){return _help=!1,new Promise(function(o,i){null!=a?setTimeout(()=>{playAudio(`${a}${e}.mp3`,"text",()=>{setTimeout(()=>{_help=!0,o()},n)})},t):setTimeout(()=>{console.log(`${mediaPath}${e}.mp3`),playAudio(`${mediaPath}${e}.mp3`,"text",()=>{setTimeout(()=>{_help=!0,o()},n)})},t)})}function fingerGuide(e,t){var n={img:"../common_act/img/clickImg.png",transform:"translate(-15px, 0px)",repeat:2,repeatDelay:500,delay:300,zIndex:101,duration:400,callback:null,firstDelay:300};$.extend(n,t);var a=$("<img/>").css({position:"fixed",opacity:0,transform:n.transform+" scale(1)",transition:"transform .2s",transformOrigin:"center top",zIndex:n.zIndex}).attr("src",n.img);$("body").append(a);var o=e[0];a.css({left:o[0],top:o[1]});for(var i=0;i<n.repeat;i++){a.animate({left:o[0],top:o[1]},0,function(){a.css({transform:n.transform+" scale(1)"})}).delay(0===i?n.firstDelay:n.repeatDelay).animate({opacity:1},200,"swing");for(var l=1;l<e.length;l++)!function(t){Array.isArray(e[t])?a.delay(n.delay).animate({left:e[t][0],top:e[t][1]},n.duration):"click"===e[t].type?a.animate({textIndent:0},n.delay,function(){a.css({transform:n.transform+" scale(0.8)"}),e[t].callback&&setTimeout(e[t].callback,300)}).animate({textIndent:0},300,function(){a.css({transform:n.transform+" scale(1)"})}).delay(300):"mouseDown"===e[t].type?a.animate({textIndent:0},n.delay,function(){a.css({transform:n.transform+" scale(0.8)"}),e[t].callback&&setTimeout(e[t].callback,300)}).delay(300):"mouseUp"===e[t].type?a.animate({textIndent:0},n.delay,function(){a.css({transform:n.transform+" scale(1)"}),e[t].callback&&e[t].callback()}).delay(300):"delay"===e[t].type&&a.delay(e[t].delay)}(l);a.delay(n.delay).animate({opacity:0},200)}a.animate({opacity:0},0,"swing",function(){a.remove(),n.callback&&n.callback()})}function FINGER_CILCK(e){fingerGuide([getAbsoluteCenterPosition(e),{type:"click"}],{callback(){}})}function FINGER_DRAG(e,t){var n=getAbsoluteCenterPosition(e),a=getAbsoluteCenterPosition(t);fingerGuide([n,{type:"mouseDown",callback:function(){}},a,{type:"mouseUp",callback:function(){}},],{duration:400,callback:function(){}})}function FINGER_DRAG_PONIT(e,t){fingerGuide([e,{type:"mouseDown",callback:function(){}},t,{type:"mouseUp",callback:function(){}},],{duration:400,callback:function(){}})}function TIMEOUT(e){return new Promise(t=>setTimeout(t,e))}const BUTTON_LOCK=function(){var e=!0;return{isLock:function(){return!0===e},lock:function(){e=!0},release:function(){e=!1}}}();function GIFSELECT(e,t,n=!1){n&&e.addClass("active"),e.find("img").css({display:"none"}),e.find("img").eq(t-1).css({display:"block"}),n||e.removeClass("active")}async function timeCount(e,t="w"){e?(clearInterval(time_count),_isTime=!1):(time_count=setInterval(async function(){_isPause||(BUTTON_LOCK.lock(),GIFSELECT($(".ch01"),2,!0),await PLAY("../../common/media/sec10/"+t,0,200),GIFSELECT($(".ch01"),1),BUTTON_LOCK.release())},1e4),_isTime=!0)}function itostr(e){return e>=10?String(e):"0"+e}function start_sound_check(){let e=document.body.querySelector(".pre_wrap"),t=load_snd.play("none");void 0!=t?t.then(function(t){e.style.display="none",pageInit()},function(t){e.style.display="block"}):(e.style.display="block",pageInit()),e.querySelector("button.pre_play").addEventListener("click",function(t){e.style.display="none",pageInit()})}function resize_fn(){var e=$("body"),t=$(window).width(),n=$(window).height(),a=1280/720;t/n>a?(e.height(n),e.width(n*a),nScale_ck=!0):(e.width(t),e.height(720*t/1280),nScale_ck=!1),zoom=e.width()/1280,leftm=(t-e.width())/2,nScale=zoom,$("#contents").css("zoom",zoom);var o=navigator.userAgent.toLowerCase();(-1!=o.indexOf("chrome")||-1!=o.indexOf("safari"))&&($("iframe").css("transform","scale("+zoom+")"),$("iframe").css("transform-origin","0 0"),no=100/zoom,$("iframe").css("width",no+"%"),$("iframe").css("height",no+"%"))}function kofacQuizEnd(e,t=1,n=!0){let a="";if(e)a=`${e}`;else{let o=window.location.pathname.split("/");o.pop();let i=parseInt(o.reverse()[0].split("_")[1],10);a=`quiz_${i}`}console.log(":::: 학습종료 -> 퀴즈데이터 전달 ::::"),window.parent.postMessage({type:"on_submit_quiz",payload:{quiz_id:e,answer:t,is_correct:n}},window.location.origin)}