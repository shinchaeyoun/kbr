main.jsx 구조
```
import React, { StrictMode } from "react";
import { BrowserRouter, Routes, Route } from "react-router-dom";

import { createRoot } from "react-dom/client";
import "./index.css";
import GlobalStyle from "./styled/GlobalStyle.jsx";
import App from "./App.jsx";
import PrivateEnterRoute from "./components/PrivateEnterRoute.jsx";
import Header from "./components/Header.jsx";
import Footer from "./components/Footer.jsx";

createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <BrowserRouter>
      <GlobalStyle />
      {/* <App /> */}
      <PrivateEnterRoute />
      {/* <Footer /> */}
    </BrowserRouter>
  </React.StrictMode>
);
```

<br/>
<br/>

PrivateEnterRoute 페이지 구조
```
import React, { useState, useEffect } from "react";
import App from "../App.jsx";
import Login from "../pages/Login.jsx";
import Signup from "../pages/Signup.jsx";
import ApprovalPendingScreen from "./ApprovalPendingScreen.jsx";

const PrivateEnterRoute = () => {
  const level = Number(sessionStorage.user_lvl) || 0;
  const [showSignup, setShowSignup] = useState(false);

  console.log("level", level);

  // 1. level이 1이면 승인 대기 화면 표시
  if (level === 1) {
    return <ApprovalPendingScreen />;
  }

  // 2. level이 1보다 작거나 0일 경우 Login 또는 Signup으로만 이동 가능
  if (level < 1) {
    return showSignup ? (
      <Signup />
    ) : (
      <Login onSignupClick={() => setShowSignup(true)} />
    );
  }

  // return level >= 2 ? <App level={level} /> : <Login />;
  
  // 3. level이 2 이상일 경우 App으로 이동
  return <App level={level} />;
};

export default PrivateEnterRoute;
```


<br/><br/>
이 상태에서 로그인














=================

리액트로 **권한이 있는 회원만 볼 수 있는 홈페이지**를 효율적으로 만들기 위해서는 **권한 관리**를 중심으로 컴포넌트를 설계해야 합니다. 아래는 효율적인 구성 방법과 컴포넌트 설계 가이드입니다:

---

### 1. **컴포넌트 계층 구조 설계**
먼저 컴포넌트 계층 구조를 설계하여, 각 컴포넌트가 역할에 따라 동작하도록 만듭니다.

#### 기본 구조:
1. **`App` 컴포넌트**: 전체 애플리케이션의 컨테이너.
2. **`AuthProvider` 컴포넌트**: 사용자의 권한 정보를 관리하는 컨텍스트 제공자.
3. **`ProtectedRoute` 컴포넌트**: 권한이 있는 사용자만 접근할 수 있는 경로를 처리.
4. **페이지 컴포넌트**: `Home`, `Dashboard`, `Login` 등 각 페이지 역할.
5. **기타 공통 컴포넌트**: 네비게이션 바, 헤더, 푸터 등.

---

### 2. **권한 관리 로직**
React의 **Context API** 또는 **React Redux**를 사용해 전역 상태로 사용자 권한 정보를 관리합니다.

#### 예시: `AuthProvider` 컴포넌트
```javascript
import React, { createContext, useState, useContext } from "react";

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false); // 인증 상태 관리
  const [userRole, setUserRole] = useState(null); // 사용자 역할 (예: 'admin', 'member')

  const login = (role) => {
    setIsAuthenticated(true);
    setUserRole(role);
  };

  const logout = () => {
    setIsAuthenticated(false);
    setUserRole(null);
  };

  return (
    <AuthContext.Provider value={{ isAuthenticated, userRole, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);
```

---

### 3. **권한에 따른 접근 제한**
`ProtectedRoute`를 구현하여 사용자 인증 상태를 확인하고 페이지 접근을 제한합니다.

#### 예시: `ProtectedRoute` 컴포넌트
```javascript
import React from "react";
import { Navigate } from "react-router-dom";
import { useAuth } from "./AuthProvider";

const ProtectedRoute = ({ children, requiredRole }) => {
  const { isAuthenticated, userRole } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />; // 로그인 페이지로 이동
  }

  if (requiredRole && userRole !== requiredRole) {
    return <Navigate to="/unauthorized" />; // 권한 부족 페이지로 이동
  }

  return children;
};

export default ProtectedRoute;
```

---

### 4. **라우팅 설정**
React Router를 활용하여 각 페이지를 권한에 따라 표시합니다.

#### 예시: 라우팅 설정
```javascript
import React from "react";
import { BrowserRouter as Router, Route, Routes } from "react-router-dom";
import { AuthProvider } from "./AuthProvider";
import ProtectedRoute from "./ProtectedRoute";
import Home from "./Home";
import Dashboard from "./Dashboard";
import Login from "./Login";
import Unauthorized from "./Unauthorized";

const App = () => {
  return (
    <AuthProvider>
      <Router>
        <Routes>
          <Route path="/login" element={<Login />} />
          <Route path="/" element={<Home />} />
          <Route
            path="/dashboard"
            element={
              <ProtectedRoute requiredRole="admin">
                <Dashboard />
              </ProtectedRoute>
            }
          />
          <Route path="/unauthorized" element={<Unauthorized />} />
        </Routes>
      </Router>
    </AuthProvider>
  );
};

export default App;
```

---

### 5. **페이지 컴포넌트**
각 페이지 컴포넌트를 역할에 따라 작성합니다.

#### `Dashboard` 페이지
```javascript
import React from "react";

const Dashboard = () => {
  return <h1>관리자 대시보드</h1>;
};

export default Dashboard;
```

#### `Unauthorized` 페이지
```javascript
import React from "react";

const Unauthorized = () => {
  return <h1>권한이 부족합니다.</h1>;
};

export default Unauthorized;
```

---

### 6. **로그인 처리**
로그인 버튼 클릭 시 사용자의 권한과 인증 상태를 업데이트합니다.

#### `Login` 컴포넌트 예시:
```javascript
import React from "react";
import { useAuth } from "./AuthProvider";
import { useNavigate } from "react-router-dom";

const Login = () => {
  const { login } = useAuth();
  const navigate = useNavigate();

  const handleLogin = () => {
    login("admin"); // 사용자 역할 설정
    navigate("/dashboard"); // 로그인 후 대시보드로 이동
  };

  return (
    <div>
      <h1>로그인 페이지</h1>
      <button onClick={handleLogin}>관리자로 로그인</button>
    </div>
  );
};

export default Login;
```

---

### 권장 컴포넌트 구성:
1. **`AuthProvider`**: 인증 상태 및 권한 관리.
2. **`ProtectedRoute`**: 권한 확인 및 접근 제한 처리.
3. **라우트 설정**: 각 페이지를 권한에 따라 분기.
4. **페이지 컴포넌트**: 역할별로 구현된 Home, Dashboard, Login 등.

---

이 구조를 사용하면 효율적으로 사용자 권한을 관리하고, 권한 기반으로 페이지 접근을 제한할 수 있습니다. 추가로 궁금한 점이 있거나 세부 구현이 필요하면 말씀해주세요! 😊